---
name: ğŸ¡ Home Assistant CI
on:
  push:
  pull_request:
jobs:
  yamllint:
    name: ğŸ§¹ yamllint
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ“¥ Checkout code
        uses: actions/checkout@v5
      - name: ğŸ•µï¸ Run yamllint
        uses: "docker://pipelinecomponents/yamllint:latest"
        with:
          args: yamllint --format github .
  homme-assistant:
    name: ğŸ¡ Home Assistant Config Check
    runs-on: ubuntu-latest
    needs: [yamllint]
    steps:
      - name: ğŸ“¥ Checkout code
        uses: actions/checkout@v5
      - name: ğŸ•µï¸ Check configuration
        uses: frenck/action-home-assistant@v1.4
        with:
          path: "."
          secrets: ./.stubs/secrets.yaml
          version: "stable"
